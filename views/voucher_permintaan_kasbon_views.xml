<odoo>
    <data>
        <record id="model_voucher_permintaan_kasbon_view_tree" model="ir.ui.view">
            <field name="name">voucher.permintaan.kasbon.view.tree</field>
            <field name="model">voucher.permintaan.kasbon</field>
            <field name="arch" type="xml">
                <tree delete='0' default_order="write_date desc" decoration-warning="state=='onprocess'"  decoration-info="state == 'draft'" decoration-success="state=='finished'" decoration-danger="state=='cancelled'">
                    <!-- Add your fields here -->
                    <field name="name"/>
                    <field name="dilaksanakan_pada_tanggal"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="voucher_permintaan_kasbon_view_form" model="ir.ui.view">
            <field name="name">voucher.permintaan.kasbon.view.form</field>
            <field name="model">voucher.permintaan.kasbon</field>
            <field name="arch" type="xml">
                <form string="Input Voucher Permintaan Kasbon" duplicate="false" delete='false'>
                    <header>
                        <field name="is_owner" invisible="True"/>
                        <field name="is_visible_konfimasi_button" invisible="True"/>
                        <field name="is_visible_verifikasi_button" invisible="True"/>
                        <field name="is_visible_approval_button" invisible="True"/>
                        <button name="submit" class="oe_highlight" string="Submit" type="object" attrs="{'invisible':['|',('state','!=','draft'),('is_owner','!=',True)]}"/>
                        <button name="konfirmasi" class="oe_highlight"   string="Konfirmasi" type="object" attrs="{'invisible':['|',('is_visible_konfimasi_button','!=',True),('state','!=','submitted')]}"/>
                        <button name="verifikasi" class="oe_highlight"  string="Verifikasi" type="object"  attrs="{'invisible':['|',('is_visible_verifikasi_button','!=',True),('state','!=','confirmed')]}"/>
                        <button name="setujui" class="oe_highlight" string="Setujui" type="object" attrs="{'invisible':['|',('is_visible_approval_button','!=',True),('state','!=','validated')]}" />
                        <!-- <button name="konfirmasi" class="oe_highlight" states="submitted" attrs="{'invisible':['|',('state','in',user.groups_id),('state','=','cancelled')]}" string="Konfirmasi" type="object"/>
                        <button name="verifikasi" class="oe_highlight" states="confirmed" attrs="{'invisible':['|',('state','=','draft'),('state','=','cancelled')]}" string="Verifikasi" type="object"/>
                        <button name="setujui" class="oe_highlight" states="validated" attrs="{'invisible':['|',('state','=','draft'),('state','=','cancelled')]}" string="Setujui" type="object"/> -->
                        <button name="cancel" class="oe_highlight btn-danger" attrs="{'invisible':['|',('is_owner','=',False),('state','in',['draft','cancelled', 'finished'])]}" string="Cancel" type="object"/>
                        <button name="set_draft" class="oe_highlight" string="Set To Draft" type="object" attrs="{'invisible':['|',('state','!=','cancelled'),('is_owner','!=',True)]}" />
                        <field name="state" widget="statusbar" />                            
                    </header>
                    <sheet>
                        <group col="2">
                            <group>
                                <h1>
                                    <field name="active" invisible="True"/>
                                    <field name="name" style="color:#7C7BAD" readonly="True" attrs="{'invisible':[('name','=','/')]}"/>
                                </h1>
                            </group>
                            <group>
                                <field name="diterima_oleh"  attrs="{'invisible':[('state','not in',['onprocess','finished'])],'required':[('state','=','onprocess')], 'readonly':[('is_visible_verifikasi_button','=',False)]}"/>
                                <label for="diterima_tanggal" string="Tanggal"  attrs="{'invisible':[('state','not in',['onprocess','finished'])], 'required':[('state','=','onprocess')], 'readonly':[('is_visible_verifikasi_button','=',False)]}"/>
                                <field name="diterima_tanggal"  attrs="{'invisible':[('state','not in',['onprocess','finished'])], 'required':[('state','=','onprocess')], 'readonly':[('is_visible_verifikasi_button','=',False)]}" nolabel='1'/>
                            </group>
                            <group name="Bilyet">
                                <field name="bank_no_bilyet"  attrs="{'readonly':[('is_visible_verifikasi_button','=',False)]}"/>
                                <field name="bank_nama_bilyet"  attrs="{'readonly':[('is_visible_verifikasi_button','=',False)]}"/>
                                <field name="bank_tanggal_bilyet"  attrs="{'readonly':[('is_visible_verifikasi_button','=',False)]}"/>
                            </group>
                        </group>
                        <group>
                            <group>
                                <field name="cara_pembayaran" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)]}"  required="1"/>
                                <field name="bank_nama" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)], 'required':[('cara_pembayaran','=',2)], 'invisible':[('cara_pembayaran','!=',2)]}"/>
                                <field name="bank_ac_name" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)], 'required':[('cara_pembayaran','=',2)], 'invisible':[('cara_pembayaran','!=',2)]}"/>
                                <field name="bank_ac_no" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)], 'required':[('cara_pembayaran','=',2)], 'invisible':[('cara_pembayaran','!=',2)]}"/>
                            </group>
                            <group>
                                <field name="bayar_to" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)]}"/>
                                <field name="bayar_nik" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)]}"/>
                                <field name="kode_anggaran" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)]}"/>
                                <field name="dilaksanakan_pada_tanggal" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)]}"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Uraian Rencana Penggunaan Uang Muka">
                                <field name="uraian_rencana_penggunaan_uang_muka_ids" required='1' attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)]}" widget="one2many_list" context="{'uraian_rencana_penggunaan_uang_muka_ids': uraian_rencana_penggunaan_uang_muka_ids}">
                                    <tree editable="bottom" string="Uraian Rencana Penggunaan Uang Muka">
                                        <field name="currency_id" invisible="1"/>
                                        <field name="name" />
                                        <field name="nominal" sum="Total"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="currency_id" invisible="1"/>
                                            <field name="name" />
                                            <field name="nominal" sum="Total"/>
                                        </group>
                                    </form>
                                </field>
                               
                            </page>
                        </notebook>
                        <group string="Lampiran" modifiers="{}">
                            <field name="attachment_ids" widget="many2many_binary" context="{'file_size': 5*1024*1024}" nolabel="1"/>
                        </group>
                         <group string="Keterangan" modifiers="{}">
                            <field name="keterangan" colspan="4" attrs="{'readonly':['|',('state','!=','draft'),('is_owner','=',False)]}" placeholder="Tambahkan catatan disini..." nolabel="1" height="50"/>
                        </group>
                        <hr class="mt4 mb4"/>
                        <group col="2">
                            <group>
                                <field name="diajukan_oleh" readonly="1"/>
                                <label string="Tgl" for="diajukan_tanggal"/>
                                <field name="diajukan_tanggal" readonly='1' nolabel="1"/>
                            </group>
                            <group>
                                <field name="direkomendasi_oleh" readonly='1'/>
                                <label string="Tgl" for="direkomendasi_tanggal"/>
                                <field name="direkomendasi_tanggal" readonly='1' nolabel="1"/>
                            </group>
                        </group>
                        <group col="2" >
                            <group>
                                <field name="diverifikasi_oleh" readonly='1'/>
                                <label string="Tgl" for="diverifikasi_tanggal"/>
                                <field name="diverifikasi_tanggal" readonly='1' nolabel="1"/>
                            </group>

                            <group>
                                <field name="disetujui_oleh" readonly='1'/>
                                <label string="Tgl" for="disetujui_tanggal"/>
                                <field name="disetujui_tanggal" readonly='1' nolabel="1"/>
                            </group>
                        </group>
                        <group col="2" >
                            <group>
                                <field name="dibayar_oleh" readonly='1'/>
                                <label string="Tgl" for="dibayar_tanggal"/>
                                <field name="dibayar_tanggal" readonly='1' nolabel="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
    <!-- delivery.order action window -->
        <record id="voucher_permintaan_kasbon_action" model="ir.actions.act_window">
            <field name="name">Voucher Permintaan Kasbon</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">voucher.permintaan.kasbon</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
                click create to create new delivery order
                </p><p>
                <!-- More details about what a user can do with this object will be OK -->
                Voucher Permintaan Kasbon adalah dokument untuk pengajuan pembayaran 
                </p>
            </field>
        </record>
        
        <menuitem id="voucher_permintaan_kasbon_menu_act" name="Voucher Permintaan Kasbon" parent="submission_menu_categ" action="voucher_permintaan_kasbon_action" sequence="11"/>    
        
        <record id="voucher_permintaan_kasbon_menu_act" model="ir.ui.menu">
            <field name="groups_id" eval="[
                        (4,ref('submission_tracking_gep_group_user'))
                    ]"/>
        </record>
        
        <record id="voucher_permintaan_kasbon_menu_act" model="ir.ui.menu">
            <field name="groups_id" eval="[
                        (4,ref('submission_tracking_gep_group_verificator'))
                    ]"/>
        </record>
        
        <record id="voucher_permintaan_kasbon_menu_act" model="ir.ui.menu">
            <field name="groups_id" eval="[
                        (4,ref('submission_tracking_gep_group_approval'))
                    ]"/>
        </record>
    </data>
</odoo>