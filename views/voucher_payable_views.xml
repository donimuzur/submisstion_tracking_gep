<odoo>
    <data>
        <record id="model_voucher_payable_view_tree" model="ir.ui.view">
            <field name="name">voucher.payable.view.tree</field>
            <field name="model">voucher.payable</field>
            <field name="arch" type="xml">
                <tree delete='0' default_order="write_date desc" decoration-warning="state=='onprocess'"  decoration-info="state == 'draft'" decoration-success="state=='finished'" decoration-danger="state=='cancelled'">
                    <!-- Add your fields here -->
                    <field name="name"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="delivery_order_view_form" model="ir.ui.view">
            <field name="name">voucher.payable.view.form</field>
            <field name="model">voucher.payable</field>
            <field name="arch" type="xml">
                <form string="Input Voucher Payable" duplicate="false" delete='false'>
                    <header>
                        <button name="submit" class="oe_highlight" states="draft" string="Submit" type="object"/>
                        <button name="konfirmasi" class="oe_highlight" states="submitted" string="Konfirmasi" type="object"/>
                        <button name="verifikasi" class="oe_highlight" states="confirmed" string="Verifikasi" type="object"/>
                        <button name="setujui" class="oe_highlight" states="validated" string="Setujui" type="object"/>
                        <!-- <button name="konfirmasi" class="oe_highlight" states="submitted" attrs="{'invisible':['|',('state','=','draft'),('state','=','cancelled')]}" string="Konfirmasi" type="object"/>
                        <button name="verifikasi" class="oe_highlight" states="confirmed" attrs="{'invisible':['|',('state','=','draft'),('state','=','cancelled')]}" string="Verifikasi" type="object"/>
                        <button name="setujui" class="oe_highlight" states="validated" attrs="{'invisible':['|',('state','=','draft'),('state','=','cancelled')]}" string="Setujui" type="object"/> -->
                        <button name="cancel" class="oe_highlight btn-danger" attrs="{'invisible':['|',('state','=','draft'),('state','=','cancelled')]}" string="Cancel" type="object"/>
                        <button name="set_draft" class="oe_highlight" states="cancelled" string="Set To Draft" type="object"/>
                        <field name="state" widget="statusbar" />                            
                    </header>
                    <sheet>
                        <group col="2">
                            <group>
                                <h1>
                                    <field name="active" invisible="True"/>
                                    <field name="name" style="color:#7C7BAD" readonly="True" attrs="{'invisible':[('name','=','/')]}"/>
                                </h1>
                            </group>
                            <group>
                                <field name="bpk_no"  attrs="{'invisible':['&amp;',('state','!=','onprocess'),('state','!=','finished')],'required':[('state','=','onprocess')]}"/>
                                <label for="bpk_tanggal" string="Tanggal"  attrs="{'invisible':['&amp;',('state','!=','onprocess'),('state','!=','finished')], 'required':[('state','=','onprocess')]}"/>
                                <field name="bpk_tanggal"  attrs="{'invisible':['&amp;',('state','!=','onprocess'),('state','!=','finished')], 'required':[('state','=','onprocess')]}" nolabel='1'/>
                            </group>
                        </group>
                        <group>
                            <group>
                                <field name="cara_pembayaran" attrs="{'readonly':[('state','!=','draft')]}"  required="1"/>
                                <field name="bank_no" attrs="{'readonly':[('state','!=','draft')]}"/>
                                <field name="bank_nama" attrs="{'readonly':[('state','!=','draft')]}"/>
                                <field name="bank_tanggal" attrs="{'readonly':[('state','!=','draft')]}"/>
                                <field name="bank_ac_name" attrs="{'readonly':[('state','!=','draft')]}"/>
                                <field name="bank_ac_no" attrs="{'readonly':[('state','!=','draft')]}"/>
                            </group>
                            <group>
                                <field name="bayar_to" attrs="{'readonly':[('state','!=','draft')]}"/>
                                <field name="bayar_alamat" attrs="{'readonly':[('state','!=','draft')]}"/>
                                <field name="kode_anggaran" attrs="{'readonly':[('state','!=','draft')]}"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Uraian Pembayaran">
                                <field name="uraian_pembayaran_voucher_ids" required='1' attrs="{'readonly':[('state', '!=','draft')]}" widget="one2many_list" context="{'uraian_pembayaran_voucher_ids': uraian_pembayaran_voucher_ids}">
                                    <tree editable="bottom" string="Uraian Pembayaran">
                                        <field name="currency_id" invisible="1"/>
                                        <field name="name" />
                                        <field name="nominal" sum="Total"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="currency_id" invisible="1"/>
                                            <field name="name" />
                                            <field name="nominal" sum="Total"/>
                                        </group>
                                    </form>
                                </field>
                               
                            </page>
                        </notebook>
                        <group string="Lampiran" modifiers="{}">
                            <field name="attachment_ids" widget="many2many_binary" context="{'file_size': 5*1024*1024}" nolabel="1"/>
                        </group>
                         <group string="Keterangan" modifiers="{}">
                            <field name="keterangan" colspan="4" attrs="{'readonly':[('state','!=','draft')]}" placeholder="Tambahkan catatan disini..." nolabel="1" height="50"/>
                        </group>
                        <hr class="mt4 mb4"/>
                        <group col="2">
                            <group>
                                <field name="diajukan_oleh" readonly="1"/>
                                <label string="Tgl" for="diajukan_tanggal"/>
                                <field name="diajukan_tanggal" readonly='1' nolabel="1"/>
                            </group>
                            <group>
                                <field name="direkomendasi_oleh" readonly='1'/>
                                <label string="Tgl" for="direkomendasi_tanggal"/>
                                <field name="direkomendasi_tanggal" readonly='1' nolabel="1"/>
                            </group>
                        </group>
                        <group col="2" >
                            <group>
                                <field name="diverifikasi_oleh" readonly='1'/>
                                <label string="Tgl" for="diverifikasi_tanggal"/>
                                <field name="diverifikasi_tanggal" readonly='1' nolabel="1"/>
                            </group>

                            <group>
                                <field name="disetujui_oleh" readonly='1'/>
                                <label string="Tgl" for="disetujui_tanggal"/>
                                <field name="disetujui_tanggal" readonly='1' nolabel="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
    <!-- delivery.order action window -->
        <record id="voucher_payable_action" model="ir.actions.act_window">
            <field name="name">Voucher Payable</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">voucher.payable</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
                click create to create new delivery order
                </p><p>
                <!-- More details about what a user can do with this object will be OK -->
                Voucher payable adalah dokument untuk pengajuan pembayaran 
                </p>
            </field>
        </record>
        
        <menuitem id="submission_gep_menu_root" name="Submission" sequence="10"/>
        <menuitem id="submission_menu_categ" name="Dokumen" parent="submission_gep_menu_root" sequence="10"/>
        <menuitem id="voucher_payable_menu_act" name="Voucher Payable" parent="submission_menu_categ" action="voucher_payable_action" sequence="10"/>    

        <!-- res.users inherit form view -->
        <record id="views_users_form" model="ir.ui.view">
            <field name="name">res.users.inherit.view.form</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="base.view_users_form"/>
            <field name="arch" type="xml">
                <!-- Add your xpath here -->
                <xpath expr="//page[2]" position="after">
                    <page string="Submission Tracking GEP">
                        <group>
                            <field name="is_verificator"/>
                            <field name="is_approval"/>
                            <field name="atasan"/>
                            <field name="signature" widget="signature" width="400" height="100"/>
                            <field name="bawahan_ids" required='1' readonly='1' widget="one2many_list" context="{'bawahan_ids': bawahan_ids}">
                                <tree string="Uraian Pembayaran">
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                </xpath>
            </field>
        </record>
    </data>
</odoo>